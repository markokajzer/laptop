#!/bin/bash

printf "Overwrite files? [yN]  "
read -r response
if [[ ! "$response" = "y" ]]; then
  exit
fi

if [ -d "~/Library/Application Support/Code/User" ]; then
  echo "Syncing Code Settings and installing extensions"
  cp files/code/* "~/Library/Application Support/Code/User"

  while read extension; do
    code --install-extension "$extension"
  done < files/code/extensions.txt
fi

echo "Updating global git config..."
cp files/git/* ~

echo "Overwriting runcoms..."
cat files/prezto/.zpreztorc >| ~/.zpreztorc
cat files/prezto/.zprofile  >| ~/.zprofile
cat files/prezto/.zshrc     >| ~/.zshrc
